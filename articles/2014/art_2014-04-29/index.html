<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=description content="Site indépendant de veille sur la géomatique libre et open source. Articles, tutoriels et revues de presse (#GeoRDP) sur l'information géographique, les SIG, la cartographie, la représentation des données..."><meta name=author content=Geotribu><link href=https://static.geotribu.fr/articles/2014/art_2014-04-29/ rel=canonical><link rel="shortcut icon" href=../../../img/favicon.ico><title>De l'acquisition à la visualisation d'images prises à partir d'un drone - Geotribu</title><link href=../../../css/bootstrap.min.css rel=stylesheet><link href=../../../css/font-awesome.min.css rel=stylesheet><link href=../../../css/bootstrap-theme.min.css rel=stylesheet><link href=../../../../../../theme/assets/stylesheets/extra.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/wa-mediabox@1.0.1/dist/wa-mediabox.min.css rel=stylesheet><!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.3/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]--><script src=../../../js/jquery-1.10.2.min.js></script><script src=../../../js/bootstrap.min.js></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'None', 'auto');
            ga('send', 'pageview');
        </script></head> <body> <div class="navbar navbar-default navbar-fixed-top" role=navigation> <div class=container> <div class=navbar-header> <button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand href=../../..>Geotribu</a> </div> <div class="navbar-collapse collapse"> <ul class="nav navbar-nav"> <li> <a href=../../..>&#127968; Accueil</a> </li> <li class=dropdown> <a href=# class=dropdown-toggle data-toggle=dropdown>Revues de presse <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../..>2021</a> </li> <li> <a href=../../..>2020</a> </li> <li> <a href=../../..>2017</a> </li> <li> <a href=../../..>2016</a> </li> <li> <a href=../../..>2015</a> </li> <li> <a href=../../..>2014</a> </li> <li> <a href=../../..>2013</a> </li> <li> <a href=../../..>2012</a> </li> <li> <a href=../../..>2011</a> </li> <li> <a href=../../..>2010</a> </li> </ul> </li> <li class="dropdown active"> <a href=# class=dropdown-toggle data-toggle=dropdown>Articles <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../..>2021</a> </li> <li> <a href=../../..>2020</a> </li> <li> <a href=../../..>2015</a> </li> <li class=active> <a href=../../..>2014</a> </li> <li> <a href=../../..>2013</a> </li> <li> <a href=../../..>2012</a> </li> <li> <a href=../../..>2011</a> </li> <li> <a href=../../..>2010</a> </li> <li> <a href=../../..>2009</a> </li> <li> <a href=../../..>2008</a> </li> </ul> </li> <li class=dropdown> <a href=# class=dropdown-toggle data-toggle=dropdown>Contribuer <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../../contribuer/introduction/ >Contribuer à Geotribu</a> </li> <li> <a href=../../../contribuer/requirements/ >Prérequis pour la contribution</a> </li> <li> <a href=../../../contribuer/contribution_guide/ >Guide de contribution</a> </li> <li> <a href=../../..>Editer le contenu</a> </li> <li> <a href=../../..>Générer le site web</a> </li> <li> <a href=../../..>Guides de rédaction</a> </li> <li> <a href=../../..>Archives</a> </li> </ul> </li> <li class=dropdown> <a href=# class=dropdown-toggle data-toggle=dropdown>A propos <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../../team/ >L'équipe Geotribu</a> </li> <li> <a href=../../../team/acha/ >Aurélien Chaumet</a> </li> <li> <a href=../../../team/avdc/ >Arnaud Vandecasteele</a> </li> <li> <a href=../../../team/avha/ >Adrien Van Hamme</a> </li> <li> <a href=../../../team/edel/ >Etienne Delay</a> </li> <li> <a href=../../../team/fbor/ >Florian Boret</a> </li> <li> <a href=../../../team/fgob/ >Fabien Goblet</a> </li> <li> <a href=../../../team/gdbo/ >Guillaume de Boyer</a> </li> <li> <a href=../../../team/jmou/ >Julien Moura</a> </li> <li> <a href=../../../team/jory/ >Jérémie Ory</a> </li> <li> <a href=../../../team/jpie/ >Julie Pierson</a> </li> <li> <a href=../../../team/mraj/ >Mathieu Rajerison</a> </li> <li> <a href=../../../team/pver/ >Pierre Vernier</a> </li> <li> <a href=../../../team/rbov/ >Rémi Bovard</a> </li> <li> <a href=../../../team/rqui/ >Rodolphe Quiédeville</a> </li> <li> <a href=../../../team/tgra/ >Thomas Gratier</a> </li> <li> <a href=../../..>Archives</a> </li> </ul> </li> </ul> <ul class="nav navbar-nav navbar-right"> <li> <a href=../art_2014-05-05/ rel=next> <i class="fa fa-arrow-left"></i> Previous </a> </li> <li> <a href=../art_2014-03-24/ rel=prev> Next <i class="fa fa-arrow-right"></i> </a> </li> <li> <a href=https://github.com/geotribu/website/ > geotribu/website </a> </li> </ul> </div> </div> </div> <div class=container> <div class=row> <div class=col-md-3><div class="bs-sidebar hidden-print affix well" role=complementary> <ul class="nav bs-sidenav"> <li class="main active"><a href=#de-lacquisition-a-la-visualisation-dimages-prises-a-partir-dun-drone>De l'acquisition à la visualisation d'images prises à partir d'un drone</a></li> <li><a href=#cote-equipement>Côté équipement</a></li> <li><a href=#presentation-de-pix4dmapper>Présentation de Pix4Dmapper</a></li> <li><a href=#traitement-des-images-dans-pix4dmapper>Traitement des images dans Pix4Dmapper</a></li> <li><a href=#en-conclusion>En conclusion</a></li> <li><a href=#auteur>Auteur</a></li> </ul> </div></div> <div class=col-md-9 role=main> <h1 id=de-lacquisition-a-la-visualisation-dimages-prises-a-partir-dun-drone>De l'acquisition à la visualisation d'images prises à partir d'un drone<a class=headerlink href=#de-lacquisition-a-la-visualisation-dimages-prises-a-partir-dun-drone title="Permanent link">#</a></h1> <p>:calendar: Date de publication initiale : 29 avril 2014</p> <p><strong>Mots-clés :</strong> drones | images aériennes</p> <p>Il m'arrive régulièrement de tomber sur des innovations qui auraient le potentiel de changer considérablement nos habitudes métiers. L'une des plus récentes, et pour laquelle je me suis pris de passion, est celle des drones. Contrairement à ce qui se fait majoritairement, mon objectif n'est pas d'utiliser ces vecteurs aériens pour faire de l'événementiel, mais pour acquérir des images aériennes géoréférencées exploitables au sein d'une interface cartographique (logiciel SIG, interface web, etc.).</p> <p>Je vous livre ici le résultat d'une expérimentation réalisée en collaboration avec <a href=http://www.droneadventures.org/ >Drones Adventures</a> sur la région de Fukushima ainsi que différentes autres études de cas. Le logiciel <a href=http://pix4d.com/products/ >Pix4Dmapper</a> produit par la société <a href=http://pix4d.com/ >Pix4D</a> a été utilisé pour réaliser le traitement des images obtenues à l'aide d'un drone <a href=https://www.sensefly.com/drones/ebee.html>eBee</a> de la société <a href=https://www.sensefly.com/ >SenseFly</a>.</p> <hr> <p>Avant de commencer notre tour d'horizon, je vous propose de consulter <a href=http://www.droneadventures.org/2014/04/02/fukushima-a-drones-eye-view/ >le billet</a> sur le même sujet paru sur le site de <a href=http://www.droneadventures.org/ >Drones Adventures</a> qui retrace l'origine de cette collaboration et surtout les implications de ce projet. Très rapidement, l'association Drones Adventures intervient dans des régions sinistrées afin de proposer un système de cartographie d'urgence réalisé à l'aide de drones. Une récente mission a amené l'équipe de <a href=http://www.droneadventures.org/ >Drones Adventures</a> à poser leurs bagages (ou plutôt les ailes de leur eBee) à Fukushima afin d'obtenir une carte permettant une meilleure estimation des dégâts et surtout de la reconstruction 3 ans après le tsunami.</p> <p>En collaboration avec Adam Klaptocz, coordinateur du projet, nous avons eu l'occasion d'effectuer le traitement des images obtenues pour la région de Tomioka. Ce traitement servira d'exemple pour illustrer les différentes phases nécessaires pour obtenir une image géoréférencée utilisable dans votre SIG.</p> <h2 id=cote-equipement>Côté équipement<a class=headerlink href=#cote-equipement title="Permanent link">#</a></h2> <p>Fan d'Open Source ? Vous serez malheureusement déçu. En effet, il n'existe à l'heure actuelle aucune réelle solution permettant de rivaliser en terme d'interface ou de résultats avec les deux principaux logiciels propriétaires du domaine que sont <a href=http://pix4d.com/products/ >Pix4Dmapper</a> et <a href=http://www.agisoft.ru/products/photoscan>PhotoScan</a>. Quelques projets sont néanmoins à souligner, tel que le logiciel <a href=http://logiciels.ign.fr/?-Micmac,3->Mic Mac</a> développé par l'IGN ou encore le Web Service <a href=http://dronemapper.com/ >Drone Mapper</a>. La suite de ce billet portera sur <a href=http://pix4d.com/products/ >Pix4Dmapper</a> qui a été utilisé pour réaliser les différents traitements.</p> <h2 id=presentation-de-pix4dmapper>Présentation de Pix4Dmapper<a class=headerlink href=#presentation-de-pix4dmapper title="Permanent link">#</a></h2> <p>Développé par <a href=http://pix4d.com/ >Pix4D</a>, le logiciel <a href=http://pix4d.com/products/ >Pix4Dmapper</a> permet la création d'orthoimages géoréférencées et de MNT obtenus à partir d'un vecteur aérien (drones, avions, etc.). En plus de cela, il possède des fonctionnalités particulièrement intéressantes comme la sélection d'images pour la mosaïque permettant par exemple d'éliminer les objets en mouvement, la mesure de surfaces et de volumes à l'aide du <a href=http://pix4d.com/raycloud/ >rayCloud Editor</a> ou encore l'export dans différents formats (GeoTiff, Google Tiles, LAS, XYZ, etc.). Si vous êtes intéressés par le fonctionnement de ce logiciel, sachez que simplement en vous <a href=https://mapper.pix4d.com/mapper/trial/1/ >enregistrant sur leur site</a> vous pouvez disposer d'une version d'évaluation ainsi que de différents jeux de données.</p> <h2 id=traitement-des-images-dans-pix4dmapper>Traitement des images dans Pix4Dmapper<a class=headerlink href=#traitement-des-images-dans-pix4dmapper title="Permanent link">#</a></h2> <p>D'une manière simplifiée, les phases nécessaires au traitement d'images obtenues à partir d'un drone sont au nombre de trois. La première consiste à aligner les différentes images entre elles, la seconde à en extraire les informations pertinentes sous la forme d'un nuage de points ou d'un maillage et enfin vient l'étape de reconstruction et d'export du GeoTiff ou du MNT. Détaillons chacune d'entre elles.</p> <h3 id=alignement-dimages>Alignement d'images<a class=headerlink href=#alignement-dimages title="Permanent link">#</a></h3> <p>Contrairement aux techniques d'acquisition classiques par capteurs sophistiqués, les drones utilisent pour la plupart les mêmes appareils photo que vous pouvez trouver dans le commerce. L'altitude de vol et l'angle de prise de vues nécessitent l'acquisition de plusieurs images se chevauchant afin de couvrir une zone.</p> <p><img alt src=https://cdn.geotribu.fr/img/articles-blog-rdp/capture-ecran/superposition-vol-uav.jpg></p> <p>Il sera alors nécessaire d'aligner (ou autrement dit de fusionner) ces différentes prises de vue afin d'obtenir une seule image continue. Pour cela, différentes techniques existent, mais globalement l'idée est de rechercher les entités correspondantes (keypoints) entre les différentes photos afin de construire l'image finale. Le code couleur utilisé permet de rapidement identifier les images dont l'alignement n'a pu être réalisé pour cause de mauvaise calibration du capteur ou de mauvais paramétrage de la mission:</p> <ul> <li>Le rond bleu correspond à la position initiale de l'image obtenue à partir des coordonnées GPS initiales</li> <li>Le rond vert est la position optimisée de l'image calculée par Pix4D Mapper prenant en compte le système de coordonnées géographiques de référence des points de calage</li> <li>Un rond rouge correspond à une caméra non calibrée et elle ne peut donc être utilisée L'image ci-dessous présente le résultat de cette opération et comme vous pouvez le constater, un grand nombre d'images n'ont pu être alignées du fait d'une erreur de paramétrage lors de la mission. Ce n'est pas le but de ce billet, mais sachez que la nouvelle version de Pix4D permet de spécifier manuellement des points de correspondance afin d'améliorer le résultat final.</li> </ul> <p><img alt src=https://cdn.geotribu.fr/img/articles-blog-rdp/capture-ecran/alignement-images.png></p> <h3 id=generation-du-nuage-de-points>Génération du nuage de points<a class=headerlink href=#generation-du-nuage-de-points title="Permanent link">#</a></h3> <p>Une fois les images correctement calibrées, il est possible d'en extraire des points contenant différentes informations comme notamment la couleur de celui-ci, mais aussi sa position en 3 dimensions (X,Y et Z) grâce à la stéréoscopie. Ce processus va alors générer un ensemble de ces points plus communément appelé "nuage de points". Ce sont ces derniers qui seront utilisés lors de la création de l'ortophographie et du MNT.</p> <p>L'image ci-dessous présente la sélection d'un des points dans le nuage de points. Ce point est relié visuellement aux images correspondantes par les différents traits rouges.</p> <p><img alt src=https://cdn.geotribu.fr/img/articles-blog-rdp/capture-ecran/point_cloud.png></p> <h3 id=export-du-resultat>Export du résultat<a class=headerlink href=#export-du-resultat title="Permanent link">#</a></h3> <p>Nous arrivons au bout de ce processus et c'est certainement celui qui vous intéresse le plus ! Aucune difficulté technique à cette étape, il vous suffit de spécifier le format d'export désiré et au bout de quelques minutes vous obtenez le fichier désiré. Plusieurs options sont disponibles comme notamment un classique fichier GeoTiff ou un MNT mais aussi la génération de tuiles à "la Google" pour une diffusion web.</p> <p>Il ne vous reste plus qu'à importer le résultat dans votre SIG favoris. Ci-dessous, l'image de Tomioka a été importée dans QGIS.</p> <p><img alt src=https://cdn.geotribu.fr/img/articles-blog-rdp/capture-ecran/qgis.png></p> <p>Comme je le mentionnais, il est également possible d'exporter ce résultat sous la forme de tuiles afin de créer une application cartographique sur internet. L'exemple ci-dessous est le résultat de cet export.</p> <h3 id=les-petits-gros-plus-de-pix4d-mapper>Les petits (gros) plus de Pix4D Mapper<a class=headerlink href=#les-petits-gros-plus-de-pix4d-mapper title="Permanent link">#</a></h3> <p>Si vous êtes dans le domaine, vous me direz que les fonctionnalités précédemment présentées ne sont pas différentes de celles que l'on retrouve dans les autres logiciels similaires tels que <a href=http://www.agisoft.ru/products/photoscan>PhotoScan</a>. Sur ce point vous aurez tout à fait raison. Mais (oui y'a toujours un mais), <a href=http://pix4d.com/products/ >Pix4Dmapper</a> possède d'autres options qui font sa particularité. Si les deux premières sont assez courantes, les deux dernières sont spécifiques à <a href=http://pix4d.com/products/ >Pix4Dmapper</a> ce qui lui donne son caractère unique !</p> <h4 id=mesure-de-distances-surface-volumes>Mesure de distances, surface volumes<a class=headerlink href=#mesure-de-distances-surface-volumes title="Permanent link">#</a></h4> <p>Imaginez que vous ayez réalisé la prise de vue d'une carrière, à partir du nuage de points, il vous sera alors possible de calculer la volumétrie d'un monticule de pierres, communément appellé "stockpile" dans le domaine. Pour cela, rien de plus simple, vous dessinez sur l'interface 3D la zone désirée et une fois la précision améliorée en remplaçant vos points sur les images de référence 2D, la volumétrie est calculée automatiquement.</p> <p><img alt src=https://cdn.geotribu.fr/img/articles-blog-rdp/capture-ecran/calcul-volumetrie.png></p> <h4 id=_1><a class=headerlink href=#_1 title="Permanent link">#</a></h4> <h4 id=export-3d>Export 3D<a class=headerlink href=#export-3d title="Permanent link">#</a></h4> <p>Bien que cette fonctionnalité soit disponible dans <a href=http://pix4d.com/products/ >Pix4Dmapper</a>, celle-ci est encore en mode bêta contrairement à <a href=http://www.agisoft.ru/products/photoscan>PhotoScan</a> qui la propose depuis longtemps. Bien qu'intéressante pour certaines applications, celle-ci est moins importante dans notre domaine car cet export s'accompagne d'une perte de la composante spatiale. En résultat vous aurez une belle représentation 3D mais celle-ci restera simplement visuelle. Différents formats de sortie sont supportés vous permettant de visualiser cet export dans des logiciels comme <a href=http://meshlab.sourceforge.net/ >Meshlab</a>, <a href=http://www.blender.org/ >Blender</a> ou encore <a href=http://www.meshmixer.com/ >Meshmixer</a>. A noter que <a href=http://www.agisoft.ru/products/photoscan>PhotoScan</a>, permet tout cela mais aussi l'export dans d'autres plateformes web populaires comme et <a href=https://sketchfab.com/ >Stetchfab</a> et <a href=http://verold.com/ >Verold</a>.</p> <h4 id=creation-dobjet-3d-pour-la-dao>Création d'objet 3D pour la DAO<a class=headerlink href=#creation-dobjet-3d-pour-la-dao title="Permanent link">#</a></h4> <p>Via l'interface de <a href=http://pix4d.com/products/ >Pix4Dmapper</a> vous allez pouvoir très précisément dessiner les objets contenus dans l'image (ex: un poteau électrique) afin de générer ensuite un fichier compatible avec un logiciel de DAO (ex: autodesk). Entre l'ortophoto, le modèle numérique de terrain et ces objets vectoriels 3D, vous obtenez alors une représentation fidèle de votre territoire.</p> <h4 id=choix-de-limage>Choix de l'image<a class=headerlink href=#choix-de-limage title="Permanent link">#</a></h4> <p>C'est à mon sens une des fonctionnalités qui rend <a href=http://pix4d.com/products/ >Pix4Dmapper</a>, complètement unique dans le domaine. Pour illustrer l'intérêt de celle-ci, imaginez que vous ayez pris des images au-dessus de routes. Entre les différentes prises de vue, des objets mobiles (voitures, moto, etc.) se seront déplacés. En utilisant l'éditeur de mosaïque vous pourrez alors sélectionner les images sans véhicules afin de les utiliser lors de la génération de l'ortophoto et obtenir ainsi une image sans véhicule ou autre artefact ! Bon certes ça demande un gros boulot manuel, mais faut avouer que le résultat final est irréprochable.</p> <h2 id=en-conclusion>En conclusion<a class=headerlink href=#en-conclusion title="Permanent link">#</a></h2> <p>Ainsi s'achève ce billet qui j'espère vous aura convaincu des potentialités des drones et de la maturité des technologies associées. Nous nous sommes essentiellement concentrés sur l'utilisation de <a href=http://pix4d.com/products/ >Pix4Dmapper</a> qui est certainement à l'heure actuelle la solution la plus aboutie et facile à prendre en main. Par souci de compréhension, nous sommes volontairement restés très général, mais sachez que <a href=http://pix4d.com/products/ >Pix4Dmapper</a> recèle de fonctionnalités qui n'ont pas été abordées comme le calcul de l'index de végétation (NDVI), les courbes de niveau ou encore la définition de masques au sein des images. Cela fera certainement l'objet d'un prochain billet !</p> <hr> <h2 id=auteur>Auteur<a class=headerlink href=#auteur title="Permanent link">#</a></h2> <p><img alt="Portait de Arnaud Vandecasteele" class=img-rdp-news-thumb src=https://cdn.geotribu.fr/img/internal/contributeurs/avdc.jpg> <strong>Arnaud Vandecasteele</strong></p> <p>Fervent défenseur de l'Open Source, Arnaud s'est spécialisé dans le développement d'application cartographiques web. OpenLayers, PostGIS ou encore Django sont autant d'outils qu'il manipule au quotidien.<br> S'il n'est pas en face de son ordinateur, vous le retrouverez un GPS à la main en train de cartographier pour OpenStreetMap, de faire voler son drone ou sur un tatami !</p></div> </div> </div> <hr> <footer class=container> <center><span class=copyleft>&copy;</span> Geotribu</center> <center>Documentation built with <a href=http://www.mkdocs.org>MkDocs</a> and <a href=http://kristopolous.github.io/BOOTSTRA.386>BOOTSTRA.386</a>.</center> </footer> <script src=../../../../../../theme/assets/javascripts/extra.js></script> <script src=https://cdn.jsdelivr.net/npm/wa-mediabox@1.0.1/dist/wa-mediabox.min.js></script> <script src=https://unpkg.com/mermaid@8.6.4/dist/mermaid.min.js></script> <script src=../../../../../../search/main.js></script> </body> </html>