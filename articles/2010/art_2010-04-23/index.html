<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=description content="Site indépendant de veille sur la géomatique libre et open source. Articles, tutoriels et revues de presse (#GeoRDP) sur l'information géographique, les SIG, la cartographie, la représentation des données..."><meta name=author content=Geotribu><link href=https://static.geotribu.fr/articles/2010/art_2010-04-23/ rel=canonical><link rel="shortcut icon" href=../../../img/favicon.ico><title>GeoScript - Geotribu</title><link href=../../../css/bootstrap.min.css rel=stylesheet><link href=../../../css/font-awesome.min.css rel=stylesheet><link href=../../../css/bootstrap-theme.min.css rel=stylesheet><link href=../../../../../../theme/assets/stylesheets/extra.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/wa-mediabox@1.0.1/dist/wa-mediabox.min.css rel=stylesheet><!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.3/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]--><script src=../../../js/jquery-1.10.2.min.js></script><script src=../../../js/bootstrap.min.js></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'None', 'auto');
            ga('send', 'pageview');
        </script></head> <body> <div class="navbar navbar-default navbar-fixed-top" role=navigation> <div class=container> <div class=navbar-header> <button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand href=../../..>Geotribu</a> </div> <div class="navbar-collapse collapse"> <ul class="nav navbar-nav"> <li> <a href=../../..>&#127968; Accueil</a> </li> <li class=dropdown> <a href=# class=dropdown-toggle data-toggle=dropdown>Revues de presse <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../..>2021</a> </li> <li> <a href=../../..>2020</a> </li> <li> <a href=../../..>2017</a> </li> <li> <a href=../../..>2016</a> </li> <li> <a href=../../..>2015</a> </li> <li> <a href=../../..>2014</a> </li> <li> <a href=../../..>2013</a> </li> <li> <a href=../../..>2012</a> </li> <li> <a href=../../..>2011</a> </li> <li> <a href=../../..>2010</a> </li> </ul> </li> <li class="dropdown active"> <a href=# class=dropdown-toggle data-toggle=dropdown>Articles <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../..>2021</a> </li> <li> <a href=../../..>2020</a> </li> <li> <a href=../../..>2015</a> </li> <li> <a href=../../..>2014</a> </li> <li> <a href=../../..>2013</a> </li> <li> <a href=../../..>2012</a> </li> <li> <a href=../../..>2011</a> </li> <li class=active> <a href=../../..>2010</a> </li> <li> <a href=../../..>2009</a> </li> <li> <a href=../../..>2008</a> </li> </ul> </li> <li class=dropdown> <a href=# class=dropdown-toggle data-toggle=dropdown>Contribuer <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../../contribuer/introduction/ >Contribuer à Geotribu</a> </li> <li> <a href=../../../contribuer/requirements/ >Prérequis pour la contribution</a> </li> <li> <a href=../../../contribuer/contribution_guide/ >Guide de contribution</a> </li> <li> <a href=../../..>Editer le contenu</a> </li> <li> <a href=../../..>Générer le site web</a> </li> <li> <a href=../../..>Guides de rédaction</a> </li> <li> <a href=../../..>Archives</a> </li> </ul> </li> <li class=dropdown> <a href=# class=dropdown-toggle data-toggle=dropdown>A propos <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../../team/ >L'équipe Geotribu</a> </li> <li> <a href=../../../team/acha/ >Aurélien Chaumet</a> </li> <li> <a href=../../../team/avdc/ >Arnaud Vandecasteele</a> </li> <li> <a href=../../../team/avha/ >Adrien Van Hamme</a> </li> <li> <a href=../../../team/edel/ >Etienne Delay</a> </li> <li> <a href=../../../team/fbor/ >Florian Boret</a> </li> <li> <a href=../../../team/fgob/ >Fabien Goblet</a> </li> <li> <a href=../../../team/gdbo/ >Guillaume de Boyer</a> </li> <li> <a href=../../../team/jmou/ >Julien Moura</a> </li> <li> <a href=../../../team/jory/ >Jérémie Ory</a> </li> <li> <a href=../../../team/jpie/ >Julie Pierson</a> </li> <li> <a href=../../../team/mraj/ >Mathieu Rajerison</a> </li> <li> <a href=../../../team/pver/ >Pierre Vernier</a> </li> <li> <a href=../../../team/rbov/ >Rémi Bovard</a> </li> <li> <a href=../../../team/rqui/ >Rodolphe Quiédeville</a> </li> <li> <a href=../../../team/tgra/ >Thomas Gratier</a> </li> <li> <a href=../../..>Archives</a> </li> </ul> </li> </ul> <ul class="nav navbar-nav navbar-right"> <li> <a href=../art_2010-04-26/ rel=next> <i class="fa fa-arrow-left"></i> Previous </a> </li> <li> <a href=../art_2010-04-15/ rel=prev> Next <i class="fa fa-arrow-right"></i> </a> </li> <li> <a href=https://github.com/geotribu/website/ > geotribu/website </a> </li> </ul> </div> </div> </div> <div class=container> <div class=row> <div class=col-md-3><div class="bs-sidebar hidden-print affix well" role=complementary> <ul class="nav bs-sidenav"> <li class="main active"><a href=#geoscript>GeoScript</a></li> <li><a href=#scala-et-groovy-et-non-ce-nest-pas-le-nom-dun-groupe-de-punk>Scala et Groovy - et non, ce n'est pas le nom d'un groupe de punk</a></li> <li><a href=#travaillons-avec-javascript-cest-plus-prudent>Travaillons avec Javascript, c'est plus prudent :)</a></li> <li><a href=#installation-de-narwhal>Installation de Narwhal</a></li> <li><a href=#geoscript-enfin>GeoScript ... enfin !</a></li> <li><a href=#auteur>Auteur</a></li> </ul> </div></div> <div class=col-md-9 role=main> <h1 id=geoscript>GeoScript<a class=headerlink href=#geoscript title="Permanent link">#</a></h1> <p>:calendar: Date de publication initiale : 23 avril 2010</p> <p><strong>Mots-clés :</strong> API | GeoScript</p> <p><img alt="icône globe" src=https://cdn.geotribu.fr/img/internal/icons-rdp-news/world.png><a href=http://geoscript.org/ >GeoScript</a> a pour objectif de faciliter les manipulations géographiques dans des environnements de script. L'objectif est le support de 4 langages : Javascript, Python, Scala et Groovy. Cette bibliothèque permet de manipuler facilement des objets géométriques - création et manipulation d'objets ainsi que la création et manipulation de projections.<br> GeoScript est fondé sur la librairie Java <a href=http://geotools.org/ >GeoTools</a>. </p> <p>Pour le moment, seules les versions Javascript et Groovy sont disponibles :</p> <ul> <li>Javascript : <a href=http://geoscript.org/js/download.html>version 0.8</a></li> <li>Python : à venir</li> <li>Scala : à venir</li> <li>Groovy : <a href=http://geoscript.org/groovy/download.html>version 0.6</a></li> </ul> <h3 id=scala-et-groovy-et-non-ce-nest-pas-le-nom-dun-groupe-de-punk>Scala et Groovy - et non, ce n'est pas le nom d'un groupe de punk<a class=headerlink href=#scala-et-groovy-et-non-ce-nest-pas-le-nom-dun-groupe-de-punk title="Permanent link">#</a></h3> <p>Vous connaissez tous Javascript et Python, mais Scala et Groovy, qu'est-ce que c'est encore que ces nouveaux trucs ?<br> Et bien c'est pas si nouveau que ça : 2003 pour Scala et 2007 pour Groovy.<br> Scala et Groovy sont deux langages pour la <a href=https://fr.wikipedia.org/wiki/Machine_virtuelle_Java>JVM</a>, prévu pour être compilés en bytecode Java et exécutés sur la JVM.</p> <h4 id=scala>Scala<a class=headerlink href=#scala title="Permanent link">#</a></h4> <p>Quelques liens :</p> <ul> <li><a href=http://www.scala-lang.org/ >http://www.scala-lang.org/</a></li> <li><a href=http://www.scala-fr.org/ >http://www.scala-fr.org/</a></li> <li><a href=https://fr.wikipedia.org/wiki/Scala_%28langage%29>https://fr.wikipedia.org/wiki/Scala_%28langage%29</a></li> <li><a href=http://daily-scala.blogspot.com/2010/03/geoscriptscala.html>http://daily-scala.blogspot.com/2010/03/geoscriptscala.html</a></li> <li><a href=http://blog.xebia.fr/2008/03/21/introduction-a-scala/ >http://blog.xebia.fr/2008/03/21/introduction-a-scala/</a></li> </ul> <h4 id=groovy>Groovy<a class=headerlink href=#groovy title="Permanent link">#</a></h4> <p>Quelques liens :</p> <ul> <li><a href=http://groovy.codehaus.org/ >http://groovy.codehaus.org/</a></li> <li><a href=http://ericreboisson.developpez.com/tutoriel/java/groovy/ >http://ericreboisson.developpez.com/tutoriel/java/groovy/</a></li> <li><a href="http://torrefacteurjava.free.fr/?q=content/groovy-par-la-pratique">http://torrefacteurjava.free.fr/?q=content/groovy-par-la-pratique</a></li> </ul> <h3 id=travaillons-avec-javascript-cest-plus-prudent>Travaillons avec Javascript, c'est plus prudent :)<a class=headerlink href=#travaillons-avec-javascript-cest-plus-prudent title="Permanent link">#</a></h3> <p>Pour la suite de ce billet, nous utiliserons donc la version Javascript de GeoScript.<br> Bon, c'est du Javascript côté serveur et non côté navigateur dont nous parlons ici - d'ailleurs en passant, Javascript a été créé d'abord pour une utilisation côté serveur. En effet, GeoScript - en mode Javascript - est édité pour la plateforme <a href=http://narwhaljs.org/ >Narwhal</a>.<br> Pourquoi donc utiliser JavaScript côté serveur me direz-vous ? Et bien, depuis que les éditeurs de butineurs s'efforcent à optimiser les moteurs Javascript, ces derniers rivalisent désormais en performance avec les langages typés serveur. De plus, pour des applications Web, avoir le même langage côté client et côté serveur permet de ne pas se disperser [<a href=http://www.clochix.net/post/2009/10/04/JavaScript-:-retour-sur-le-serveur>http://www.clochix.net</a>]. Dans ce mode de fonctionnement nommé Server-side JavaScript (<a href=https://en.wikipedia.org/wiki/Server-side_JavaScript>SSJS</a>) il est bien évidemment nécessaire de disposer d'un serveur compatible, une grande partie d'entre eux sont <a href=https://en.wikipedia.org/wiki/Server-side_JavaScript#Server-side_JavaScript_use>listés</a> sur la page de Wikipédia.</p> <h3 id=installation-de-narwhal>Installation de Narwhal<a class=headerlink href=#installation-de-narwhal title="Permanent link">#</a></h3> <p>Narwhal est une suite d'outils et de librairies permettant l'exécution d'applications JS côté serveur en suivant les spécifications du <a href=http://commonjs.org/ >CommonJS</a> et permettant ainsi d'utiliser le moteur Javascript de notre choix - <a href=http://www.mozilla.org/rhino/ >Rhino</a>, <a href=http://code.google.com/p/v8/ >v8</a>, <a href=http://www.mozilla.org/js/spidermonkey/ >SpiderMonkey</a>, <a href=https://wiki.mozilla.org/JavaScript:TraceMonkey>TraceMonkey</a>, etc. </p> <p>Tout d'abord il faut télécharger Narwhal via <a href=http://git-scm.com/ >Git</a> (système de contrôle de révision) qu'il faudra préalablement installer aussi - comme d'habitude nous utiliserons Ubuntu pour l'exemple : </p> <p>~$ sudo apt-get install git-core<br> ~$ git clone git://github.com/280north/narwhal.git </p> <p>Voilà, nous avons maintenant Narwhal sur notre serveur. Vous pouvez déplacer le répertoire ainsi créé où vous voulez. </p> <p>Et ajoutons Narwhal dans notre PATH - pour cela éditer le fichier .bashrc et ajouter la ligne suivante : </p> <p>export PATH=$PATH:~/narwhal/bin </p> <p>Ou sinon tapez simplement cette commande dans un terminal, et le PATH ne sera modifié que pour la durée de la session. La modification du fichier .bashrc permet de ne pas avoir à saisir cette commande à chaque redémarrage.<br> Par défaut Narwhal est livré avec le moteur Rhino. Celui-ci est codé en Java, il faut donc avoir la JRE installée : </p> <p>~$ sudo apt-get install sun-java6-jre </p> <p>Testons maintenant l'installation de Narwhal : </p> <p>~$ js narwhal/examples/hello </p> <p>Nous devrions avoir comme réponse : </p> <p>Hello, World! </p> <p>Note : nous pouvons utiliser la commande 'js' ou 'narwhal', c'est identique : </p> <p>~$ narwhal narwhal/examples/hello </p> <h3 id=geoscript-enfin>GeoScript ... enfin !<a class=headerlink href=#geoscript-enfin title="Permanent link">#</a></h3> <p>Maintenant que nous avons installé tout ce qu'il fallait pour être opérationnel, nous pouvons tester enfin GeoScript.<br> Pour cela, télécharger le .zip de la version JavaScript ou utiliser encore une fois Git : </p> <p>~$ sudo git clone git://github.com/tschaub/geoscript-js.git </p> <p>Nous avons donc un répertoire 'geoscript-js' à l'endroit où vous avez lancé la commande git.<br> Il faut maintenant activer notre environnement de façon à ce que Narwhal puisse charger les modules présents dans GeoScript : </p> <p>~$ ~geoscript-js/bin/sea </p> <h4 id=jouons-un-peu-maintenant>Jouons un peu maintenant<a class=headerlink href=#jouons-un-peu-maintenant title="Permanent link">#</a></h4> <p>Nous pouvons dorénavant lancer une console Javascript (commande js ou narwhal) et utiliser la bibliothèque : </p> <p>~$ js<br> js&gt; var geom = require('geoscript/geom')<br> js&gt; var p1 = new geom.Point([0, 0])<br> js&gt; var p2 = new geom.Point([10, 20])<br> js&gt; p1.distance(p2)<br> 22.360679774997898<br> js&gt; var poly = p2.buffer(23)<br> js&gt; poly.contains(p1)<br> true<br> js&gt; quit() </p> <p>Ici, nous avons créé 2 points, calculé la distance entre eux, créé un polygone grâce à la fonction buffer et demandé si le premier point était contenu dans le polygone.<br> Voilà, nous pouvons maintenant lire l'<a href=http://geoscript.org/js/api/index.html>API</a> afin d'exploiter tous les modules :</p> <ul> <li><a href=http://geoscript.org/js/api/geom.html>geom module</a></li> <li><a href=http://geoscript.org/js/api/feature.html>feature module</a></li> <li><a href=http://geoscript.org/js/api/filter.html>filter module</a></li> <li><a href=http://geoscript.org/js/api/proj.html>proj module</a></li> <li><a href=http://geoscript.org/js/api/layer.html>layer module</a></li> <li><a href=http://geoscript.org/js/api/workspace.html>workspace module</a> Il faut garder à l'esprit qu'il s'agit ici de la version 0.8 et donc que l'API est susceptible d'être modifiée.</li> </ul> <h4 id=pour-la-suite>Pour la suite<a class=headerlink href=#pour-la-suite title="Permanent link">#</a></h4> <p>Dans un prochain billet, nous verrons comment lier GeoScript et Narwhal avec un serveur Web grâce à <a href=http://jackjs.org/ >Jack</a>.</p> <hr> <h2 id=auteur>Auteur<a class=headerlink href=#auteur title="Permanent link">#</a></h2> <p><img alt="Portait de GeoTribu" class=img-rdp-news-thumb src=https://cdn.geotribu.fr/img/internal/charte/geotribu_logo_64x64.png> <strong>GeoTribu</strong></p> <p>Toute l'actualité de la géomatique Open Source ! Mais aussi des tutoriels, des billets de blog, des tests et surtout une bonne humeur géographique !</p></div> </div> </div> <hr> <footer class=container> <center><span class=copyleft>&copy;</span> Geotribu</center> <center>Documentation built with <a href=http://www.mkdocs.org>MkDocs</a> and <a href=http://kristopolous.github.io/BOOTSTRA.386>BOOTSTRA.386</a>.</center> </footer> <script src=../../../../../../theme/assets/javascripts/extra.js></script> <script src=https://cdn.jsdelivr.net/npm/wa-mediabox@1.0.1/dist/wa-mediabox.min.js></script> <script src=https://unpkg.com/mermaid@8.6.4/dist/mermaid.min.js></script> <script src=../../../../../../search/main.js></script> </body> </html>