<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=description content="Site indépendant de veille sur la géomatique libre et open source. Articles, tutoriels et revues de presse (#GeoRDP) sur l'information géographique, les SIG, la cartographie, la représentation des données..."><meta name=author content=Geotribu><link href=https://static.geotribu.fr/articles/2010/art_2010-06-07/ rel=canonical><link rel="shortcut icon" href=../../../img/favicon.ico><title>Créez une carte papier avec des données OpenStreetMap - Geotribu</title><link href=../../../css/bootstrap.min.css rel=stylesheet><link href=../../../css/font-awesome.min.css rel=stylesheet><link href=../../../css/bootstrap-theme.min.css rel=stylesheet><link href=../../../../../../theme/assets/stylesheets/extra.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/wa-mediabox@1.0.1/dist/wa-mediabox.min.css rel=stylesheet><!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.3/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]--><script src=../../../js/jquery-1.10.2.min.js></script><script src=../../../js/bootstrap.min.js></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'None', 'auto');
            ga('send', 'pageview');
        </script></head> <body> <div class="navbar navbar-default navbar-fixed-top" role=navigation> <div class=container> <div class=navbar-header> <button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand href=../../..>Geotribu</a> </div> <div class="navbar-collapse collapse"> <ul class="nav navbar-nav"> <li> <a href=../../..>&#127968; Accueil</a> </li> <li class=dropdown> <a href=# class=dropdown-toggle data-toggle=dropdown>Revues de presse <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../..>2021</a> </li> <li> <a href=../../..>2020</a> </li> <li> <a href=../../..>2017</a> </li> <li> <a href=../../..>2016</a> </li> <li> <a href=../../..>2015</a> </li> <li> <a href=../../..>2014</a> </li> <li> <a href=../../..>2013</a> </li> <li> <a href=../../..>2012</a> </li> <li> <a href=../../..>2011</a> </li> <li> <a href=../../..>2010</a> </li> </ul> </li> <li class="dropdown active"> <a href=# class=dropdown-toggle data-toggle=dropdown>Articles <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../..>2021</a> </li> <li> <a href=../../..>2020</a> </li> <li> <a href=../../..>2015</a> </li> <li> <a href=../../..>2014</a> </li> <li> <a href=../../..>2013</a> </li> <li> <a href=../../..>2012</a> </li> <li> <a href=../../..>2011</a> </li> <li class=active> <a href=../../..>2010</a> </li> <li> <a href=../../..>2009</a> </li> <li> <a href=../../..>2008</a> </li> </ul> </li> <li class=dropdown> <a href=# class=dropdown-toggle data-toggle=dropdown>Contribuer <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../../contribuer/introduction/ >Contribuer à Geotribu</a> </li> <li> <a href=../../../contribuer/requirements/ >Prérequis pour la contribution</a> </li> <li> <a href=../../../contribuer/contribution_guide/ >Guide de contribution</a> </li> <li> <a href=../../..>Editer le contenu</a> </li> <li> <a href=../../..>Générer le site web</a> </li> <li> <a href=../../..>Guides de rédaction</a> </li> <li> <a href=../../..>Archives</a> </li> </ul> </li> <li class=dropdown> <a href=# class=dropdown-toggle data-toggle=dropdown>A propos <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../../team/ >L'équipe Geotribu</a> </li> <li> <a href=../../../team/acha/ >Aurélien Chaumet</a> </li> <li> <a href=../../../team/avdc/ >Arnaud Vandecasteele</a> </li> <li> <a href=../../../team/avha/ >Adrien Van Hamme</a> </li> <li> <a href=../../../team/edel/ >Etienne Delay</a> </li> <li> <a href=../../../team/fbor/ >Florian Boret</a> </li> <li> <a href=../../../team/fgob/ >Fabien Goblet</a> </li> <li> <a href=../../../team/gdbo/ >Guillaume de Boyer</a> </li> <li> <a href=../../../team/jmou/ >Julien Moura</a> </li> <li> <a href=../../../team/jory/ >Jérémie Ory</a> </li> <li> <a href=../../../team/jpie/ >Julie Pierson</a> </li> <li> <a href=../../../team/mraj/ >Mathieu Rajerison</a> </li> <li> <a href=../../../team/pver/ >Pierre Vernier</a> </li> <li> <a href=../../../team/rbov/ >Rémi Bovard</a> </li> <li> <a href=../../../team/rqui/ >Rodolphe Quiédeville</a> </li> <li> <a href=../../../team/tgra/ >Thomas Gratier</a> </li> <li> <a href=../../..>Archives</a> </li> </ul> </li> </ul> <ul class="nav navbar-nav navbar-right"> <li> <a href=../art_2010-06-11/ rel=next> <i class="fa fa-arrow-left"></i> Previous </a> </li> <li> <a href=../art_2010-06-02/ rel=prev> Next <i class="fa fa-arrow-right"></i> </a> </li> <li> <a href=https://github.com/geotribu/website/ > geotribu/website </a> </li> </ul> </div> </div> </div> <div class=container> <div class=row> <div class=col-md-3><div class="bs-sidebar hidden-print affix well" role=complementary> <ul class="nav bs-sidenav"> <li class="main active"><a href=#creez-une-carte-papier-avec-des-donnees-openstreetmap>Créez une carte papier avec des données OpenStreetMap</a></li> <li><a href=#avant-propos>Avant-propos</a></li> <li><a href=#les-outils>Les outils</a></li> <li><a href=#inkscape>Inkscape</a></li> <li><a href=#java>Java</a></li> <li><a href=#josm>JOSM</a></li> <li><a href=#auteur>Auteur</a></li> </ul> </div></div> <div class=col-md-9 role=main> <h1 id=creez-une-carte-papier-avec-des-donnees-openstreetmap>Créez une carte papier avec des données OpenStreetMap<a class=headerlink href=#creez-une-carte-papier-avec-des-donnees-openstreetmap title="Permanent link">#</a></h1> <p>:calendar: Date de publication initiale : 07 juin 2010</p> <p><strong>Mots-clés :</strong> OpenStreetMap | OSM</p> <p>Encore un petit billet sur <a href=https://www.openstreetmap.org/ >OpenStreetMap</a>. Nous verrons aujourd'hui comment produire une carte papier grâce aux données OSM. En effet, on voit souvent OSM comme un projet exclusivement Web. Et bien non ! On peut aussi fabriquer de jolies cartes vectorielles pour une impression papier.</p> <h4 id=avant-propos>Avant-propos<a class=headerlink href=#avant-propos title="Permanent link">#</a></h4> <p>Le but du présent billet est de fabriquer sa carte vectorielle avec des données OSM. La méthode utilisée ne nécessite aucun import en base de données, c'est d'ailleurs pour ça que c'est un peu long (cf. le rendu). Il existe d'autres méthodes pour avoir des cartes vectorielles - notamment le formidable <a href=http://www.maposmatic.org>Maposmatic</a> qui permet aussi un export en SVG donc manipulable également avec Inkscape ou Illustrator et qui génère également automatiquement un index de rues :-)</p> <h4 id=les-outils>Les outils<a class=headerlink href=#les-outils title="Permanent link">#</a></h4> <p>Pour produire une carte papier d'une zone géographique avec des données OpenStreeMap, nous avons besoin de quelques outils que nous allons de ce pas installer. La procédure est décrite pour <a href=http://www.ubuntu.com/desktop>Ubuntu Lucid Lynx</a>.</p> <ul> <li><a href="http://www.inkscape.org/?lang=fr">Inkscape</a></li> <li><a href=http://openjdk.java.net/ >Java - OpenJDK</a></li> <li><a href=http://josm.openstreetmap.de/wiki/Fr%3AWikiStart>JOSM</a></li> </ul> <h3 id=inkscape>Inkscape<a class=headerlink href=#inkscape title="Permanent link">#</a></h3> <p>C'est un logiciel libre de dessin vectoriel. Un peu le Illustrator du libre. Pour l'installer, rien de bien méchant - une ligne de commande et 111 Mo d'espace disque : $ sudo apt-get install inkscape Et c'est tout !</p> <h3 id=java>Java<a class=headerlink href=#java title="Permanent link">#</a></h3> <p>Java est nécessaire pour faire fonctionner JOSM (cf. juste en-dessous) - là encore une ligne et quelques Mo d'espace disque (91 Mo) : $ sudo apt-get install openjdk-6-jre</p> <h3 id=josm>JOSM<a class=headerlink href=#josm title="Permanent link">#</a></h3> <p>JOSM est un éditeur pour OpenStreetMap écrit en Java. Il mériterait un long billet à lui tout seul ! C'est un formidable outil avec de nombreux greffons. Ici pas besoin d'installation, il suffit juste de télécharger l'archive Java du logiciel : $ wget <a href=http://josm.openstreetmap.de/josm-tested.jar>http://josm.openstreetmap.de/josm-tested.jar</a></p> <h4 id=importer-les-donnees-de-la-zone-dont-nous-voulons-faire-une-carte>Importer les données de la zone dont nous voulons faire une carte<a class=headerlink href=#importer-les-donnees-de-la-zone-dont-nous-voulons-faire-une-carte title="Permanent link">#</a></h4> <p>Le premier travail consiste à télécharger les données de la zone désirée, pour cela JOSM est l'outil idéal - 4 clics de bouton de souris et une sélection de zone et c'est fini ! Lançons tout d'abord JOSM - ici en ligne de commande (il est tout à fait possible de faire un lanceur, mais bon faut bien s'entraîner un peu de temps en temps :-) ). $ java -jar /path_to_josm/josm-tested.jar</p> <p><img alt src=https://cdn.geotribu.fr/img/articles-blog-rdp/capture-ecran/josm1.png><br> <strong>1er clic</strong> :-) Télécharger des données depuis le serveur OSM :</p> <p><img alt src=https://cdn.geotribu.fr/img/articles-blog-rdp/capture-ecran/josm2.png><br> <strong>2ème clic</strong> :-) Sélectionner l'emprise dans l'onglet carte glissante et cliquer sur Télécharger. J'ai choisi ici la ville de <a href="https://www.openstreetmap.org/?lat=49.6991&lon=2.79143&zoom=15&layers=B000FTF">Roye</a> dans la Somme parce que j'ai mappé cette (ma) ville il y a environ 8 mois avec mon vélo, mon GPS - un <a href="https://buy.garmin.com/shop/shop.do?cID=145&pID=310">Garmin 60CSx</a> - , un papier, un crayon, et le <a href=http://wiki.openstreetmap.org/wiki/FR:JOSM/Fr:Plugin/Cadastre-fr>plugin Cadastre</a> (il reste certainement pas mal de coquilles de numérisation ... peut-être les verra-t-on à la fin de la transformation en SVG). Le but étant de tester JOSM et d'avoir une carte libre vectorielle de la ville alternative à la <a href=http://www.roye80.fr/pageLibre000106d4.html>carte</a> officielle.</p> <p><img alt src=https://cdn.geotribu.fr/img/articles-blog-rdp/capture-ecran/josm3.png><br> <strong>3ème clic</strong> :-) Sauvegarder les données :</p> <p><img alt src=https://cdn.geotribu.fr/img/articles-blog-rdp/capture-ecran/josm4.png><br> <strong>4ème clic</strong> :-) Enregistrer le fichier sélectionné - il faut absolument définir <strong>data.osm</strong> comme nom de fichier :</p> <p><img alt src=https://cdn.geotribu.fr/img/articles-blog-rdp/capture-ecran/josm5.png> </p> <h4 id=transformation-en-svg-avec-osmarender>Transformation en SVG avec Osmarender<a class=headerlink href=#transformation-en-svg-avec-osmarender title="Permanent link">#</a></h4> <p>Et voilà, nous avons un fichier contenant les données. Par contre, il faut faire attention à ne pas demander une zone trop grande - le serveur rejettera la requête. Pour ma petite ville, le fichier data.osm fait 6.4 Mo - dû principalement je pense à la numérisation (longue ...) des bâtiments. L'étape suivante est donc l'édition de ce fichier en <a href=https://fr.wikipedia.org/wiki/Scalable_Vector_Graphics>SVG</a>. Le fichier data.osm et le SVG étant du XML, une transformation <a href=https://fr.wikipedia.org/wiki/Extensible_Stylesheet_Language_Transformations>XSLT</a> devrait faire l'affaire. Ici nous utiliserons la <a href=https://fr.wikipedia.org/wiki/Extensible_stylesheet_language>grammaire XSL</a> <a href=http://wiki.openstreetmap.org/wiki/FR:Osmarender>Osmarender</a> ainsi que les règles pour un zoom 17. Dans un terminal, se placer dans le répertoire contenant le fichier data.osm et télécharger la grammaire et les règles : $ wget <a href=http://svn.openstreetmap.org/applications/rendering/osmarender/stylesheets/osm-map-features-z17.xml>http://svn.openstreetmap.org/applications/rendering/osmarender/stylesheets/osm-map-features-z17.xml</a> $ wget <a href=http://svn.openstreetmap.org/applications/rendering/osmarender/xslt/osmarender.xsl>http://svn.openstreetmap.org/applications/rendering/osmarender/xslt/osmarender.xsl</a> Et lancer la commande de conversion : $ xsltproc osm-map-features-z17.xml &gt; roye.svg Et partir se coucher ... enfin c'est ce que j'ai fait, ce processus est un peu gourmand :-) surtout avec un fichier data.osm assez volumineux. Du coup, je n'ai pas vu le temps que ça a pris, je suppose une grosse heure, il faudrait que je recommence l'opération en journée. Nous voici donc en présence d'un magnifique fichier SVG de 5.4 Mo :</p> <p><img alt src=https://cdn.geotribu.fr/img/articles-blog-rdp/capture-ecran/josm6.png><br> Que nous allons nous empresser d'ouvrir avec Inkscape : $ inkscape roye.svg</p> <p><img alt src=https://cdn.geotribu.fr/img/articles-blog-rdp/capture-ecran/inkscape1.png><br> <strong>Sympa !</strong></p> <h4 id=conclusion>Conclusion<a class=headerlink href=#conclusion title="Permanent link">#</a></h4> <p>Extraire des données depuis OpenStreetMap pour produire une carte vectorielle n'est pas vraiment compliqué. L'étape la plus longue sera la manipulation dans Inkscape ou Illustrator afin de produire un résultat bien sympathique. Mais la base est là. N'oubliez pas de rajouter le copyright <a href=http://creativecommons.org/licenses/by-sa/2.0/ >CC-by-SA</a> et un <a href=http://wiki.openstreetmap.org/wiki/Logo>logo</a> :-) Il existe des méthodes alternatives à cette dernière pour produire des cartes papiers : cf. <a href=http://wiki.openstreetmap.org/wiki/OSM_on_Paper>ici</a>. Voici le résultat réalisé en quelques secondes par Maposmatic sur à peu près la même zone géographique : <a href=http://www.maposmatic.org/jobs/14503>http://www.maposmatic.org/jobs/14503</a>. Il est certain que c'est beaucoup plus rapide et qu'il n'y aucune manipulation à faire :</p> <p><a href=http://www.maposmatic.org/jobs/14503><img alt src=https://cdn.geotribu.fr/img/articles-blog-rdp/capture-ecran/maposmatic1.png></a><br> Merci à Patrick Hochstenbach pour avoir publié ce <a href=http://www.use-it.be/europe/docs/OSMmanual/ >billet</a> pour MacOS sur lequel je me suis inspiré.</p> <hr> <h2 id=auteur>Auteur<a class=headerlink href=#auteur title="Permanent link">#</a></h2> <p><img alt="Portait de GeoTribu" class=img-rdp-news-thumb src=https://cdn.geotribu.fr/img/internal/charte/geotribu_logo_64x64.png> <strong>GeoTribu</strong></p> <p>Toute l'actualité de la géomatique Open Source ! Mais aussi des tutoriels, des billets de blog, des tests et surtout une bonne humeur géographique !</p></div> </div> </div> <hr> <footer class=container> <center><span class=copyleft>&copy;</span> Geotribu</center> <center>Documentation built with <a href=http://www.mkdocs.org>MkDocs</a> and <a href=http://kristopolous.github.io/BOOTSTRA.386>BOOTSTRA.386</a>.</center> </footer> <script src=../../../../../../theme/assets/javascripts/extra.js></script> <script src=https://cdn.jsdelivr.net/npm/wa-mediabox@1.0.1/dist/wa-mediabox.min.js></script> <script src=https://unpkg.com/mermaid@8.6.4/dist/mermaid.min.js></script> <script src=../../../../../../search/main.js></script> </body> </html>