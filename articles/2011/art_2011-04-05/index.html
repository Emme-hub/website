<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=description content="Site indépendant de veille sur la géomatique libre et open source. Articles, tutoriels et revues de presse (#GeoRDP) sur l'information géographique, les SIG, la cartographie, la représentation des données..."><meta name=author content=Geotribu><link href=https://static.geotribu.fr/articles/2011/art_2011-04-05/ rel=canonical><link rel="shortcut icon" href=../../../img/favicon.ico><title>A la découverte de WebGL Earth - Geotribu</title><link href=../../../css/bootstrap.min.css rel=stylesheet><link href=../../../css/font-awesome.min.css rel=stylesheet><link href=../../../css/bootstrap-theme.min.css rel=stylesheet><link href=../../../../../../theme/assets/stylesheets/extra.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/wa-mediabox@1.0.1/dist/wa-mediabox.min.css rel=stylesheet><!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.3/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]--><script src=../../../js/jquery-1.10.2.min.js></script><script src=../../../js/bootstrap.min.js></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'None', 'auto');
            ga('send', 'pageview');
        </script></head> <body> <div class="navbar navbar-default navbar-fixed-top" role=navigation> <div class=container> <div class=navbar-header> <button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand href=../../..>Geotribu</a> </div> <div class="navbar-collapse collapse"> <ul class="nav navbar-nav"> <li> <a href=../../..>&#127968; Accueil</a> </li> <li class=dropdown> <a href=# class=dropdown-toggle data-toggle=dropdown>Revues de presse <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../..>2021</a> </li> <li> <a href=../../..>2020</a> </li> <li> <a href=../../..>2017</a> </li> <li> <a href=../../..>2016</a> </li> <li> <a href=../../..>2015</a> </li> <li> <a href=../../..>2014</a> </li> <li> <a href=../../..>2013</a> </li> <li> <a href=../../..>2012</a> </li> <li> <a href=../../..>2011</a> </li> <li> <a href=../../..>2010</a> </li> </ul> </li> <li class="dropdown active"> <a href=# class=dropdown-toggle data-toggle=dropdown>Articles <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../..>2021</a> </li> <li> <a href=../../..>2020</a> </li> <li> <a href=../../..>2015</a> </li> <li> <a href=../../..>2014</a> </li> <li> <a href=../../..>2013</a> </li> <li> <a href=../../..>2012</a> </li> <li class=active> <a href=../../..>2011</a> </li> <li> <a href=../../..>2010</a> </li> <li> <a href=../../..>2009</a> </li> <li> <a href=../../..>2008</a> </li> </ul> </li> <li class=dropdown> <a href=# class=dropdown-toggle data-toggle=dropdown>Contribuer <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../../contribuer/introduction/ >Contribuer à Geotribu</a> </li> <li> <a href=../../../contribuer/requirements/ >Prérequis pour la contribution</a> </li> <li> <a href=../../../contribuer/contribution_guide/ >Guide de contribution</a> </li> <li> <a href=../../..>Editer le contenu</a> </li> <li> <a href=../../..>Générer le site web</a> </li> <li> <a href=../../..>Guides de rédaction</a> </li> <li> <a href=../../..>Archives</a> </li> </ul> </li> <li class=dropdown> <a href=# class=dropdown-toggle data-toggle=dropdown>A propos <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../../team/ >L'équipe Geotribu</a> </li> <li> <a href=../../../team/acha/ >Aurélien Chaumet</a> </li> <li> <a href=../../../team/avdc/ >Arnaud Vandecasteele</a> </li> <li> <a href=../../../team/avha/ >Adrien Van Hamme</a> </li> <li> <a href=../../../team/edel/ >Etienne Delay</a> </li> <li> <a href=../../../team/fbor/ >Florian Boret</a> </li> <li> <a href=../../../team/fgob/ >Fabien Goblet</a> </li> <li> <a href=../../../team/gdbo/ >Guillaume de Boyer</a> </li> <li> <a href=../../../team/jmou/ >Julien Moura</a> </li> <li> <a href=../../../team/jory/ >Jérémie Ory</a> </li> <li> <a href=../../../team/jpie/ >Julie Pierson</a> </li> <li> <a href=../../../team/mraj/ >Mathieu Rajerison</a> </li> <li> <a href=../../../team/pver/ >Pierre Vernier</a> </li> <li> <a href=../../../team/rbov/ >Rémi Bovard</a> </li> <li> <a href=../../../team/rqui/ >Rodolphe Quiédeville</a> </li> <li> <a href=../../../team/tgra/ >Thomas Gratier</a> </li> <li> <a href=../../..>Archives</a> </li> </ul> </li> </ul> <ul class="nav navbar-nav navbar-right"> <li> <a href=../art_2011-04-13/ rel=next> <i class="fa fa-arrow-left"></i> Previous </a> </li> <li> <a href=../art_2011-03-23/ rel=prev> Next <i class="fa fa-arrow-right"></i> </a> </li> <li> <a href=https://github.com/geotribu/website/ > geotribu/website </a> </li> </ul> </div> </div> </div> <div class=container> <div class=row> <div class=col-md-3><div class="bs-sidebar hidden-print affix well" role=complementary> <ul class="nav bs-sidenav"> <li class="main active"><a href=#a-la-decouverte-de-webgl-earth>A la découverte de WebGL Earth</a></li> <li><a href=#hello-world>Hello World</a></li> <li><a href=#changer-la-couche-par-defaut>Changer la couche par défaut</a></li> <li><a href=#conclusion>Conclusion</a></li> <li><a href=#ressources>Ressources</a></li> <li><a href=#auteur>Auteur</a></li> </ul> </div></div> <div class=col-md-9 role=main> <h1 id=a-la-decouverte-de-webgl-earth>A la découverte de WebGL Earth<a class=headerlink href=#a-la-decouverte-de-webgl-earth title="Permanent link">#</a></h1> <p>:calendar: Date de publication initiale : 05 avril 2011</p> <p><strong>Mots-clés :</strong> JavaScript | Open Source</p> <p><img alt="icône globe" class=img-rdp-news-thumb loading=lazy src=https://cdn.geotribu.fr/img/internal/icons-rdp-news/world.png></p> <p>Depuis quelques mois déjà nos billets font de plus en plus référence à l'utilisation de la 3D au sein de l'univers du Web. L'intégration de la librairie <a href=https://fr.wikipedia.org/wiki/WebGL>WebGL</a>, par les navigateurs les plus récents, montre bien que cette composante fera partie intégrante de nos prochaines façons de surfer. Profitant de la sortie récente de firefox 4, je me suis penché sur WebGl Earth. Ce projet initié par la société <a href=http://www.klokantech.com/ >klokantech</a> vise à remplacer nos interfaces cartographiques planes par un véritable globe directement dans votre navigateur. Bien évidemment, vous pourriez me dire que Google Earth est disponible depuis longtemps sur le Web via son <a href=http://code.google.com/apis/earth/ >API</a>, mais cela nécessite l'installation d'un plugin spécifique. Tout l’avantage de se baser sur WebGL c'est que tout l'environnement est déjà intégré à votre navigateur. D'ailleurs, on pourrait même se demander si un scenario similaire à la <a href=http://pro.01net.com/editorial/509349/google-delaisse-gears-au-profit-d-html-5/ >Google Gears</a> ne serait pas en gestation chez Google ? Néanmoins revenons à nos moutons et à WebGl Earth.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Juste un rappel au cas où vous ne l'auriez pas remarqué, ce tutoriel nécessite un navigateur (très) récent (Firefox 4, Chrome 9 etc.).</p> </div> <h2 id=hello-world>Hello World<a class=headerlink href=#hello-world title="Permanent link">#</a></h2> <p>N'ayez pas peur, vous n'aurez pas besoin de connaissances spécifiques en 3D ! Juste quelques notions de JavaScript seront nécessaires. Surtout cela sera l'occasion de voir que vous pouvez avec juste quelques lignes de codes construire votre propre application. Allé commençons avec l'habituel "<a href=http://www.webglearth.org/api>Hello World</a>" :</p> <div class=highlight><pre><span></span><code><span class=kd>function</span> <span class=nx>initialize</span><span class=p>()</span> <span class=p>{</span>
  <span class=kd>var</span> <span class=nx>options</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>zoom</span><span class=o>:</span> <span class=mf>3.0</span><span class=p>,</span> <span class=nx>center</span><span class=o>:</span> <span class=p>[</span><span class=mf>47.19537</span><span class=p>,</span> <span class=mf>8.524404</span><span class=p>]</span> <span class=p>};</span>
  <span class=kd>var</span> <span class=nx>earth</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>WebGLEarth</span><span class=p>(</span><span class=s2>&quot;earth_div&quot;</span><span class=p>,</span> <span class=nx>options</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div> <p>Ce qui nous donne donc l'application suivante :</p> <p>Les habitués d'OpenLayers ou de Google Maps ne seront pas surpris par le code affiché. Rien de bien sorcier. En effet, dans un premier temps nous définissons quelques options et ensuite nous instançons l'objet WebGLEarth. Celui-ci prend en paramètre l'identifiant de la balise div qui contiendra le globe ainsi que les options que nous avons définies auparavant. Vous voyez, je ne vous avais pas menti, 2 lignes de code pour réaliser. Amusez-vous à changer les paramètres définis en entrée pour par exemple centrer votre carte sur Paris : <code>center: [48.8594, 2.3482]</code>.</p> <h2 id=changer-la-couche-par-defaut>Changer la couche par défaut<a class=headerlink href=#changer-la-couche-par-defaut title="Permanent link">#</a></h2> <p>Par défaut, la couche qui s'affiche est celle de <a href=http://www.mapquest.fr/mq/home.do>MapQuest</a> (basée sur les données d'<a href=https://www.openstreetmap.org/ >OpenStreetMap</a>). Mais vous pouvez personaliser votre application avec l'une des trois autres sources disponibles (OSM, Bing, Custom).</p> <p>Imaginons que nous souhaitions afficher la couche OpenStreetMap, deux solutions sont alors possibles. Soit instancier la couche en même temps que notre objet WebGLEarth via la propriété map. Bizarre d'ailleurs le choix du nom de cette propriété, pourquoi ne pas l'avoir appelé layer ? Mais bon passons :</p> <div class=highlight><pre><span></span><code><span class=kd>function</span> <span class=nx>initialize</span><span class=p>()</span> <span class=p>{</span>
  <span class=kd>var</span> <span class=nx>options</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>zoom</span><span class=o>:</span> <span class=mf>3.0</span><span class=p>,</span>
    <span class=nx>center</span><span class=o>:</span> <span class=p>[</span><span class=mf>48.8594</span><span class=p>,</span> <span class=mf>2.3482</span><span class=p>],</span>
    <span class=nx>map</span><span class=o>:</span> <span class=nx>WebGLEarth</span><span class=p>.</span><span class=nx>Maps</span><span class=p>.</span><span class=nx>OSM</span><span class=p>,</span>
  <span class=p>};</span>
  <span class=kd>var</span> <span class=nx>earth</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>WebGLEarth</span><span class=p>(</span><span class=s2>&quot;earth_div&quot;</span><span class=p>,</span> <span class=nx>options</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div> <p>Ou alors, il est toujours possible de le faire par la suite :</p> <div class=highlight><pre><span></span><code><span class=kd>function</span> <span class=nx>initialize</span><span class=p>()</span> <span class=p>{</span>
  <span class=kd>var</span> <span class=nx>options</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>zoom</span><span class=o>:</span> <span class=mf>3.0</span><span class=p>,</span> <span class=nx>center</span><span class=o>:</span> <span class=p>[</span><span class=mf>48.8594</span><span class=p>,</span> <span class=mf>2.3482</span><span class=p>]</span> <span class=p>};</span>
  <span class=kd>var</span> <span class=nx>earth</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>WebGLEarth</span><span class=p>(</span><span class=s2>&quot;earth_div&quot;</span><span class=p>,</span> <span class=nx>options</span><span class=p>);</span>
  <span class=nx>earth</span><span class=p>.</span><span class=nx>initMap</span><span class=p>(</span><span class=nx>WebGLEarth</span><span class=p>.</span><span class=nx>Maps</span><span class=p>.</span><span class=nx>BING</span><span class=p>,</span> <span class=p>[</span><span class=s2>&quot;Road&quot;</span><span class=p>,</span> <span class=s2>&quot;your_bing_code&quot;</span><span class=p>]);</span>
  <span class=nx>earth</span><span class=p>.</span><span class=nx>setMap</span><span class=p>(</span><span class=nx>WebGLEarth</span><span class=p>.</span><span class=nx>Maps</span><span class=p>.</span><span class=nx>BING</span><span class=p>,</span> <span class=s2>&quot;Road&quot;</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div> <p>Pour ce dernier exemple, nous avons dû utiliser une couche de type Bing. En effet, sauf erreur de ma part, il semblerait que la méthode setMap ne fonctionne pas pour OSM.</p> <h2 id=conclusion>Conclusion<a class=headerlink href=#conclusion title="Permanent link">#</a></h2> <p>WebGL Earth est un projet récent. Cela explique notamment le peu de fonctionnalités disponibles dans l'API. En effet, il n'est pas possible pour le moment de faire plus qu'afficher un fond cartographique. Difficile alors de réaliser une application un peu sérieuse. Espérons maintenant que les développeurs enrichiront cette prometteuse librairie et même pourquoi pas imaginer un rapprochement des communautés OpenLayers et WebGL Earth.</p> <h2 id=ressources>Ressources<a class=headerlink href=#ressources title="Permanent link">#</a></h2> <ul> <li><a href=http://www.webglearth.org/api>WebGL Earth API</a> </li> <li><a href=http://webglearth.googlecode.com/svn/trunk/api/examples/ >WebGL Earth Examples</a> </li> <li><a href=http://code.google.com/p/webglearth/ >Code Source</a></li> </ul> <hr> <h2 id=auteur>Auteur<a class=headerlink href=#auteur title="Permanent link">#</a></h2> <p><img alt="Portait de GeoTribu" class=img-rdp-news-thumb src=https://cdn.geotribu.fr/img/internal/charte/geotribu_logo_64x64.png> <strong>GeoTribu</strong></p> <p>Toute l'actualité de la géomatique Open Source ! Mais aussi des tutoriels, des billets de blog, des tests et surtout une bonne humeur géographique !</p></div> </div> </div> <hr> <footer class=container> <center><span class=copyleft>&copy;</span> Geotribu</center> <center>Documentation built with <a href=http://www.mkdocs.org>MkDocs</a> and <a href=http://kristopolous.github.io/BOOTSTRA.386>BOOTSTRA.386</a>.</center> </footer> <script src=../../../../../../theme/assets/javascripts/extra.js></script> <script src=https://cdn.jsdelivr.net/npm/wa-mediabox@1.0.1/dist/wa-mediabox.min.js></script> <script src=https://unpkg.com/mermaid@8.6.4/dist/mermaid.min.js></script> <script src=../../../../../../search/main.js></script> </body> </html>